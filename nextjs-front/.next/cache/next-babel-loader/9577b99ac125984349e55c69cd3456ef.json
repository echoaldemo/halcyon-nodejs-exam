{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Echo\\\\Documents\\\\HALCYON\\\\pages\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useContext, useEffect } from \"react\";\nimport Layout from \"../components/Layout\";\nimport { get, post } from \"../utils/utils\";\nimport { StateContext } from \"../context/Context\";\n\nvar Index = function Index(props) {\n  _s();\n\n  var _useContext = useContext(StateContext),\n      state = _useContext.state,\n      dispatch = _useContext.dispatch;\n\n  var _useState = useState(\"\"),\n      task = _useState[0],\n      setTask = _useState[1];\n\n  var _useState2 = useState(false),\n      editToggle = _useState2[0],\n      setEdit = _useState2[1];\n\n  var _useState3 = useState(null),\n      selected = _useState3[0],\n      setSelected = _useState3[1];\n\n  useEffect(function () {\n    dispatch({\n      type: \"INITIAL_STATE\",\n      payload: props.tasks\n    });\n  }, []);\n\n  var submit = function submit(e) {\n    e.preventDefault();\n\n    if (editToggle) {\n      put(\"/task/\".concat(selected), {\n        task_name: task,\n        task_status: selected.id\n      }).then(function (res) {\n        dispatch({\n          type: \"UPDATE_TODO\",\n          payload: res.data\n        });\n        setTask(\"\");\n        setSelected(\"\");\n        setEdit(false);\n      });\n    } else {\n      post(\"/tasks\", {\n        task_name: task,\n        task_status: false\n      }).then(function (res) {\n        dispatch({\n          type: \"ADD_TODO\",\n          payload: res.data\n        });\n        setTask(\"\");\n      });\n    }\n  };\n\n  var rowClass = function rowClass(task) {\n    return task.task_status ? \"table-success\" : \"table-primary\";\n  };\n\n  var textStyle = function textStyle(task) {\n    return task.task_status ? \"strike\" : \"basic\";\n  };\n\n  var editTask = function editTask(task) {\n    setTask(task.task_name);\n    setSelected(task);\n    setEdit(true);\n  };\n\n  var editOff = function editOff() {\n    setTask(\"\");\n    setSelected(null);\n    setEdit(false);\n  };\n\n  var deleteTask = function deleteTask() {};\n\n  return __jsx(Layout, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }\n  }, __jsx(_JSXStyle, {\n    id: \"343314956\",\n    __self: _this\n  }, \".input-container.jsx-343314956{display:grid;grid-template-columns:1fr 100px;width:485px;margin-right:1%;grid-gap:15px;}.strike.jsx-343314956{-webkit-text-decoration:line-through;text-decoration:line-through;}.basic.jsx-343314956{-webkit-text-decoration:none;text-decoration:none;}.center.jsx-343314956{text-align:center;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcRWNob1xcRG9jdW1lbnRzXFxIQUxDWU9OXFxwYWdlc1xcaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBb0RTLEFBRzBCLEFBT2dCLEFBR1IsQUFHSCxhQVpjLEtBYWxDLDJCQVpjLEtBU2QsT0FSa0IsU0FLbEIsT0FKZ0IsY0FDaEIiLCJmaWxlIjoiQzpcXFVzZXJzXFxFY2hvXFxEb2N1bWVudHNcXEhBTENZT05cXHBhZ2VzXFxpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVN0YXRlLCB1c2VDb250ZXh0LCB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IExheW91dCBmcm9tIFwiLi4vY29tcG9uZW50cy9MYXlvdXRcIjtcclxuaW1wb3J0IHsgZ2V0LCBwb3N0IH0gZnJvbSBcIi4uL3V0aWxzL3V0aWxzXCI7XHJcbmltcG9ydCB7IFN0YXRlQ29udGV4dCB9IGZyb20gXCIuLi9jb250ZXh0L0NvbnRleHRcIjtcclxuXHJcbmNvbnN0IEluZGV4ID0gKHByb3BzKSA9PiB7XHJcbiAgY29uc3QgeyBzdGF0ZSwgZGlzcGF0Y2ggfSA9IHVzZUNvbnRleHQoU3RhdGVDb250ZXh0KTtcclxuICBjb25zdCBbdGFzaywgc2V0VGFza10gPSB1c2VTdGF0ZShcIlwiKTtcclxuICBjb25zdCBbZWRpdFRvZ2dsZSwgc2V0RWRpdF0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW3NlbGVjdGVkLCBzZXRTZWxlY3RlZF0gPSB1c2VTdGF0ZShudWxsKTtcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgZGlzcGF0Y2goeyB0eXBlOiBcIklOSVRJQUxfU1RBVEVcIiwgcGF5bG9hZDogcHJvcHMudGFza3MgfSk7XHJcbiAgfSwgW10pO1xyXG4gIGNvbnN0IHN1Ym1pdCA9IChlKSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBpZiAoZWRpdFRvZ2dsZSkge1xyXG4gICAgICBwdXQoYC90YXNrLyR7c2VsZWN0ZWR9YCwge1xyXG4gICAgICAgIHRhc2tfbmFtZTogdGFzayxcclxuICAgICAgICB0YXNrX3N0YXR1czogc2VsZWN0ZWQuaWQsXHJcbiAgICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgIGRpc3BhdGNoKHsgdHlwZTogXCJVUERBVEVfVE9ET1wiLCBwYXlsb2FkOiByZXMuZGF0YSB9KTtcclxuICAgICAgICBzZXRUYXNrKFwiXCIpO1xyXG4gICAgICAgIHNldFNlbGVjdGVkKFwiXCIpO1xyXG4gICAgICAgIHNldEVkaXQoZmFsc2UpO1xyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHBvc3QoXCIvdGFza3NcIiwgeyB0YXNrX25hbWU6IHRhc2ssIHRhc2tfc3RhdHVzOiBmYWxzZSB9KS50aGVuKChyZXMpID0+IHtcclxuICAgICAgICBkaXNwYXRjaCh7IHR5cGU6IFwiQUREX1RPRE9cIiwgcGF5bG9hZDogcmVzLmRhdGEgfSk7XHJcbiAgICAgICAgc2V0VGFzayhcIlwiKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfTtcclxuICBjb25zdCByb3dDbGFzcyA9ICh0YXNrKSA9PiB7XHJcbiAgICByZXR1cm4gdGFzay50YXNrX3N0YXR1cyA/IFwidGFibGUtc3VjY2Vzc1wiIDogXCJ0YWJsZS1wcmltYXJ5XCI7XHJcbiAgfTtcclxuICBjb25zdCB0ZXh0U3R5bGUgPSAodGFzaykgPT4ge1xyXG4gICAgcmV0dXJuIHRhc2sudGFza19zdGF0dXMgPyBcInN0cmlrZVwiIDogXCJiYXNpY1wiO1xyXG4gIH07XHJcbiAgY29uc3QgZWRpdFRhc2sgPSAodGFzaykgPT4ge1xyXG4gICAgc2V0VGFzayh0YXNrLnRhc2tfbmFtZSk7XHJcbiAgICBzZXRTZWxlY3RlZCh0YXNrKTtcclxuICAgIHNldEVkaXQodHJ1ZSk7XHJcbiAgfTtcclxuICBjb25zdCBlZGl0T2ZmID0gKCkgPT4ge1xyXG4gICAgc2V0VGFzayhcIlwiKTtcclxuICAgIHNldFNlbGVjdGVkKG51bGwpO1xyXG4gICAgc2V0RWRpdChmYWxzZSk7XHJcbiAgfTtcclxuICBjb25zdCBkZWxldGVUYXNrID0gKCkgPT4ge307XHJcbiAgcmV0dXJuIChcclxuICAgIDxMYXlvdXQ+XHJcbiAgICAgIDxzdHlsZSBqc3g+XHJcbiAgICAgICAge2BcclxuICAgICAgICAgIC5pbnB1dC1jb250YWluZXIge1xyXG4gICAgICAgICAgICBkaXNwbGF5OiBncmlkO1xyXG4gICAgICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciAxMDBweDtcclxuICAgICAgICAgICAgd2lkdGg6IDQ4NXB4O1xyXG4gICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDElO1xyXG4gICAgICAgICAgICBncmlkLWdhcDogMTVweDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC5zdHJpa2Uge1xyXG4gICAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IGxpbmUtdGhyb3VnaDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC5iYXNpYyB7XHJcbiAgICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC5jZW50ZXIge1xyXG4gICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgYH1cclxuICAgICAgPC9zdHlsZT5cclxuICAgICAgPGRpdj5cclxuICAgICAgICA8Zm9ybSBjbGFzc05hbWU9XCJpbnB1dC1jb250YWluZXJcIiBvblN1Ym1pdD17c3VibWl0fT5cclxuICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICB3aWR0aD1cIjQ4NXB4XCJcclxuICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRUYXNrKGUudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgICAgdmFsdWU9e3Rhc2t9XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXHJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRW50ZXIgYSB0YXNrIGZvciB0b2RheVwiXHJcbiAgICAgICAgICAvPlxyXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnlcIiB0eXBlPVwic3VibWl0XCI+XHJcbiAgICAgICAgICAgIHtlZGl0VG9nZ2xlID8gXCJVcGRhdGVcIiA6IFwiQWRkIFRhc2tcIn1cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIDwvZm9ybT5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDx0YWJsZSBjbGFzc05hbWU9XCJ0YWJsZSB0YWJsZS1ob3ZlclwiPlxyXG4gICAgICAgIDx0aGVhZD5cclxuICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgPHRoIHNjb3BlPVwiY29sXCI+VHlwZTwvdGg+XHJcbiAgICAgICAgICAgIDx0aCBzY29wZT1cImNvbFwiPkRlc2NyaXB0aW9uPC90aD5cclxuICAgICAgICAgICAgPHRoIHNjb3BlPVwiY29sXCIgY2xhc3NOYW1lPVwiY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgQWN0aW9uc1xyXG4gICAgICAgICAgICA8L3RoPlxyXG4gICAgICAgICAgPC90cj5cclxuICAgICAgICA8L3RoZWFkPlxyXG4gICAgICAgIDx0Ym9keT5cclxuICAgICAgICAgIHtzdGF0ZS50YXNrcy5sZW5ndGggPiAwICYmXHJcbiAgICAgICAgICAgIHN0YXRlLnRhc2tzLm1hcCgodGFzaykgPT4gKFxyXG4gICAgICAgICAgICAgIDx0ciBjbGFzc05hbWU9e3Jvd0NsYXNzKHRhc2spfT5cclxuICAgICAgICAgICAgICAgIDx0aCBzY29wZT1cInJvd1wiPlxyXG4gICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxyXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3Rhc2sudGFza19zdGF0dXN9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eygpID0+XHJcbiAgICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaCh7IHR5cGU6IFwiRE9ORV9UT0RPXCIsIHBheWxvYWQ6IHRhc2sgfSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8L3RoPlxyXG4gICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT17dGV4dFN0eWxlKHRhc2spfT57dGFzay50YXNrX25hbWV9PC90ZD5cclxuICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJjZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAge2VkaXRUb2dnbGUgJiYgc2VsZWN0ZWQuaWQgPT09IHRhc2suaWQgPyAoXHJcbiAgICAgICAgICAgICAgICAgICAgPGEgb25DbGljaz17KCkgPT4gZWRpdE9mZigpfT5DYW5jZWw8L2E+XHJcbiAgICAgICAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgICAgICAgPGEgb25DbGljaz17KCkgPT4gZWRpdFRhc2sodGFzayl9PkVkaXQ8L2E+XHJcbiAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgIHwgPGEgb25DbGljaz17KCkgPT4gZGVsZXRlVGFzayh0YXNrKX0+RGVsZXRlPC9hPlxyXG4gICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICApKX1cclxuICAgICAgICA8L3Rib2R5PlxyXG4gICAgICA8L3RhYmxlPlxyXG4gICAgPC9MYXlvdXQ+XHJcbiAgKTtcclxufTtcclxuXHJcbkluZGV4LmdldEluaXRpYWxQcm9wcyA9IGFzeW5jICgpID0+IHtcclxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGdldChcIi90YXNrc1wiKTtcclxuICBjb25zdCB0YXNrcyA9IGF3YWl0IHJlc3BvbnNlLmRhdGE7XHJcbiAgcmV0dXJuIHsgdGFza3MgfTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IEluZGV4O1xyXG4iXX0= */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\Echo\\\\\\\\Documents\\\\\\\\HALCYON\\\\\\\\pages\\\\\\\\index.js */\"), __jsx(\"div\", {\n    className: \"jsx-343314956\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }, __jsx(\"form\", {\n    onSubmit: submit,\n    className: \"jsx-343314956\" + \" \" + \"input-container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, __jsx(\"input\", {\n    width: \"485px\",\n    onChange: function onChange(e) {\n      return setTask(e.target.value);\n    },\n    value: task,\n    placeholder: \"Enter a task for today\",\n    className: \"jsx-343314956\" + \" \" + \"form-control\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }), __jsx(\"button\", {\n    type: \"submit\",\n    className: \"jsx-343314956\" + \" \" + \"btn btn-primary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  }, editToggle ? \"Update\" : \"Add Task\"))), __jsx(\"table\", {\n    className: \"jsx-343314956\" + \" \" + \"table table-hover\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }, __jsx(\"thead\", {\n    className: \"jsx-343314956\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, __jsx(\"tr\", {\n    className: \"jsx-343314956\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }, __jsx(\"th\", {\n    scope: \"col\",\n    className: \"jsx-343314956\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, \"Type\"), __jsx(\"th\", {\n    scope: \"col\",\n    className: \"jsx-343314956\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  }, \"Description\"), __jsx(\"th\", {\n    scope: \"col\",\n    className: \"jsx-343314956\" + \" \" + \"center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }, \"Actions\"))), __jsx(\"tbody\", {\n    className: \"jsx-343314956\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }, state.tasks.length > 0 && state.tasks.map(function (task) {\n    return __jsx(\"tr\", {\n      className: \"jsx-343314956\" + \" \" + (rowClass(task) || \"\"),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 15\n      }\n    }, __jsx(\"th\", {\n      scope: \"row\",\n      className: \"jsx-343314956\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }\n    }, __jsx(\"input\", {\n      type: \"checkbox\",\n      checked: task.task_status,\n      onChange: function onChange() {\n        return dispatch({\n          type: \"DONE_TODO\",\n          payload: task\n        });\n      },\n      className: \"jsx-343314956\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 19\n      }\n    })), __jsx(\"td\", {\n      className: \"jsx-343314956\" + \" \" + (textStyle(task) || \"\"),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }\n    }, task.task_name), __jsx(\"td\", {\n      className: \"jsx-343314956\" + \" \" + \"center\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }\n    }, editToggle && selected.id === task.id ? __jsx(\"a\", {\n      onClick: function onClick() {\n        return editOff();\n      },\n      className: \"jsx-343314956\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 21\n      }\n    }, \"Cancel\") : __jsx(\"a\", {\n      onClick: function onClick() {\n        return editTask(task);\n      },\n      className: \"jsx-343314956\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 21\n      }\n    }, \"Edit\"), \"| \", __jsx(\"a\", {\n      onClick: function onClick() {\n        return deleteTask(task);\n      },\n      className: \"jsx-343314956\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 21\n      }\n    }, \"Delete\")));\n  }))));\n};\n\n_s(Index, \"FotLaSfOguKcc815nEokPLWqhWg=\");\n\n_c = Index;\nIndex.getInitialProps = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n  var response, tasks;\n  return _regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return get(\"/tasks\");\n\n        case 2:\n          response = _context.sent;\n          _context.next = 5;\n          return response.data;\n\n        case 5:\n          tasks = _context.sent;\n          return _context.abrupt(\"return\", {\n            tasks: tasks\n          });\n\n        case 7:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _callee);\n}));\nexport default Index;\n\nvar _c;\n\n$RefreshReg$(_c, \"Index\");","map":{"version":3,"sources":["C:/Users/Echo/Documents/HALCYON/pages/index.js"],"names":["useState","useContext","useEffect","Layout","get","post","StateContext","Index","props","state","dispatch","task","setTask","editToggle","setEdit","selected","setSelected","type","payload","tasks","submit","e","preventDefault","put","task_name","task_status","id","then","res","data","rowClass","textStyle","editTask","editOff","deleteTask","target","value","length","map","getInitialProps","response"],"mappings":";;;;;;;;;;AAAA,SAASA,QAAT,EAAmBC,UAAnB,EAA+BC,SAA/B,QAAgD,OAAhD;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,SAASC,GAAT,EAAcC,IAAd,QAA0B,gBAA1B;AACA,SAASC,YAAT,QAA6B,oBAA7B;;AAEA,IAAMC,KAAK,GAAG,SAARA,KAAQ,CAACC,KAAD,EAAW;AAAA;;AAAA,oBACKP,UAAU,CAACK,YAAD,CADf;AAAA,MACfG,KADe,eACfA,KADe;AAAA,MACRC,QADQ,eACRA,QADQ;;AAAA,kBAECV,QAAQ,CAAC,EAAD,CAFT;AAAA,MAEhBW,IAFgB;AAAA,MAEVC,OAFU;;AAAA,mBAGOZ,QAAQ,CAAC,KAAD,CAHf;AAAA,MAGhBa,UAHgB;AAAA,MAGJC,OAHI;;AAAA,mBAISd,QAAQ,CAAC,IAAD,CAJjB;AAAA,MAIhBe,QAJgB;AAAA,MAINC,WAJM;;AAKvBd,EAAAA,SAAS,CAAC,YAAM;AACdQ,IAAAA,QAAQ,CAAC;AAAEO,MAAAA,IAAI,EAAE,eAAR;AAAyBC,MAAAA,OAAO,EAAEV,KAAK,CAACW;AAAxC,KAAD,CAAR;AACD,GAFQ,EAEN,EAFM,CAAT;;AAGA,MAAMC,MAAM,GAAG,SAATA,MAAS,CAACC,CAAD,EAAO;AACpBA,IAAAA,CAAC,CAACC,cAAF;;AACA,QAAIT,UAAJ,EAAgB;AACdU,MAAAA,GAAG,iBAAUR,QAAV,GAAsB;AACvBS,QAAAA,SAAS,EAAEb,IADY;AAEvBc,QAAAA,WAAW,EAAEV,QAAQ,CAACW;AAFC,OAAtB,CAAH,CAGGC,IAHH,CAGQ,UAACC,GAAD,EAAS;AACflB,QAAAA,QAAQ,CAAC;AAAEO,UAAAA,IAAI,EAAE,aAAR;AAAuBC,UAAAA,OAAO,EAAEU,GAAG,CAACC;AAApC,SAAD,CAAR;AACAjB,QAAAA,OAAO,CAAC,EAAD,CAAP;AACAI,QAAAA,WAAW,CAAC,EAAD,CAAX;AACAF,QAAAA,OAAO,CAAC,KAAD,CAAP;AACD,OARD;AASD,KAVD,MAUO;AACLT,MAAAA,IAAI,CAAC,QAAD,EAAW;AAAEmB,QAAAA,SAAS,EAAEb,IAAb;AAAmBc,QAAAA,WAAW,EAAE;AAAhC,OAAX,CAAJ,CAAwDE,IAAxD,CAA6D,UAACC,GAAD,EAAS;AACpElB,QAAAA,QAAQ,CAAC;AAAEO,UAAAA,IAAI,EAAE,UAAR;AAAoBC,UAAAA,OAAO,EAAEU,GAAG,CAACC;AAAjC,SAAD,CAAR;AACAjB,QAAAA,OAAO,CAAC,EAAD,CAAP;AACD,OAHD;AAID;AACF,GAlBD;;AAmBA,MAAMkB,QAAQ,GAAG,SAAXA,QAAW,CAACnB,IAAD,EAAU;AACzB,WAAOA,IAAI,CAACc,WAAL,GAAmB,eAAnB,GAAqC,eAA5C;AACD,GAFD;;AAGA,MAAMM,SAAS,GAAG,SAAZA,SAAY,CAACpB,IAAD,EAAU;AAC1B,WAAOA,IAAI,CAACc,WAAL,GAAmB,QAAnB,GAA8B,OAArC;AACD,GAFD;;AAGA,MAAMO,QAAQ,GAAG,SAAXA,QAAW,CAACrB,IAAD,EAAU;AACzBC,IAAAA,OAAO,CAACD,IAAI,CAACa,SAAN,CAAP;AACAR,IAAAA,WAAW,CAACL,IAAD,CAAX;AACAG,IAAAA,OAAO,CAAC,IAAD,CAAP;AACD,GAJD;;AAKA,MAAMmB,OAAO,GAAG,SAAVA,OAAU,GAAM;AACpBrB,IAAAA,OAAO,CAAC,EAAD,CAAP;AACAI,IAAAA,WAAW,CAAC,IAAD,CAAX;AACAF,IAAAA,OAAO,CAAC,KAAD,CAAP;AACD,GAJD;;AAKA,MAAMoB,UAAU,GAAG,SAAbA,UAAa,GAAM,CAAE,CAA3B;;AACA,SACE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,m3MAqBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAkC,IAAA,QAAQ,EAAEd,MAA5C;AAAA,uCAAgB,iBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,KAAK,EAAC,OADR;AAEE,IAAA,QAAQ,EAAE,kBAACC,CAAD;AAAA,aAAOT,OAAO,CAACS,CAAC,CAACc,MAAF,CAASC,KAAV,CAAd;AAAA,KAFZ;AAGE,IAAA,KAAK,EAAEzB,IAHT;AAKE,IAAA,WAAW,EAAC,wBALd;AAAA,uCAIY,cAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAQE;AAAoC,IAAA,IAAI,EAAC,QAAzC;AAAA,uCAAkB,iBAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGE,UAAU,GAAG,QAAH,GAAc,UAD3B,CARF,CADF,CArBF,EAmCE;AAAA,uCAAiB,mBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,EAEE;AAAI,IAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAFF,EAGE;AAAI,IAAA,KAAK,EAAC,KAAV;AAAA,uCAA0B,QAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAHF,CADF,CADF,EAUE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGJ,KAAK,CAACU,KAAN,CAAYkB,MAAZ,GAAqB,CAArB,IACC5B,KAAK,CAACU,KAAN,CAAYmB,GAAZ,CAAgB,UAAC3B,IAAD;AAAA,WACd;AAAA,0CAAemB,QAAQ,CAACnB,IAAD,CAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAI,MAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,IAAI,EAAC,UADP;AAEE,MAAA,OAAO,EAAEA,IAAI,CAACc,WAFhB;AAGE,MAAA,QAAQ,EAAE;AAAA,eACRf,QAAQ,CAAC;AAAEO,UAAAA,IAAI,EAAE,WAAR;AAAqBC,UAAAA,OAAO,EAAEP;AAA9B,SAAD,CADA;AAAA,OAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,EAUE;AAAA,0CAAeoB,SAAS,CAACpB,IAAD,CAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAiCA,IAAI,CAACa,SAAtC,CAVF,EAWE;AAAA,yCAAc,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGX,UAAU,IAAIE,QAAQ,CAACW,EAAT,KAAgBf,IAAI,CAACe,EAAnC,GACC;AAAG,MAAA,OAAO,EAAE;AAAA,eAAMO,OAAO,EAAb;AAAA,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADD,GAGC;AAAG,MAAA,OAAO,EAAE;AAAA,eAAMD,QAAQ,CAACrB,IAAD,CAAd;AAAA,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJJ,QAMI;AAAG,MAAA,OAAO,EAAE;AAAA,eAAMuB,UAAU,CAACvB,IAAD,CAAhB;AAAA,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBANJ,CAXF,CADc;AAAA,GAAhB,CAFJ,CAVF,CAnCF,CADF;AA0ED,CAtHD;;GAAMJ,K;;KAAAA,K;AAwHNA,KAAK,CAACgC,eAAN,yEAAwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBACCnC,GAAG,CAAC,QAAD,CADJ;;AAAA;AAChBoC,UAAAA,QADgB;AAAA;AAAA,iBAEFA,QAAQ,CAACX,IAFP;;AAAA;AAEhBV,UAAAA,KAFgB;AAAA,2CAGf;AAAEA,YAAAA,KAAK,EAALA;AAAF,WAHe;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAxB;AAMA,eAAeZ,KAAf","sourcesContent":["import { useState, useContext, useEffect } from \"react\";\r\nimport Layout from \"../components/Layout\";\r\nimport { get, post } from \"../utils/utils\";\r\nimport { StateContext } from \"../context/Context\";\r\n\r\nconst Index = (props) => {\r\n  const { state, dispatch } = useContext(StateContext);\r\n  const [task, setTask] = useState(\"\");\r\n  const [editToggle, setEdit] = useState(false);\r\n  const [selected, setSelected] = useState(null);\r\n  useEffect(() => {\r\n    dispatch({ type: \"INITIAL_STATE\", payload: props.tasks });\r\n  }, []);\r\n  const submit = (e) => {\r\n    e.preventDefault();\r\n    if (editToggle) {\r\n      put(`/task/${selected}`, {\r\n        task_name: task,\r\n        task_status: selected.id,\r\n      }).then((res) => {\r\n        dispatch({ type: \"UPDATE_TODO\", payload: res.data });\r\n        setTask(\"\");\r\n        setSelected(\"\");\r\n        setEdit(false);\r\n      });\r\n    } else {\r\n      post(\"/tasks\", { task_name: task, task_status: false }).then((res) => {\r\n        dispatch({ type: \"ADD_TODO\", payload: res.data });\r\n        setTask(\"\");\r\n      });\r\n    }\r\n  };\r\n  const rowClass = (task) => {\r\n    return task.task_status ? \"table-success\" : \"table-primary\";\r\n  };\r\n  const textStyle = (task) => {\r\n    return task.task_status ? \"strike\" : \"basic\";\r\n  };\r\n  const editTask = (task) => {\r\n    setTask(task.task_name);\r\n    setSelected(task);\r\n    setEdit(true);\r\n  };\r\n  const editOff = () => {\r\n    setTask(\"\");\r\n    setSelected(null);\r\n    setEdit(false);\r\n  };\r\n  const deleteTask = () => {};\r\n  return (\r\n    <Layout>\r\n      <style jsx>\r\n        {`\r\n          .input-container {\r\n            display: grid;\r\n            grid-template-columns: 1fr 100px;\r\n            width: 485px;\r\n            margin-right: 1%;\r\n            grid-gap: 15px;\r\n          }\r\n          .strike {\r\n            text-decoration: line-through;\r\n          }\r\n          .basic {\r\n            text-decoration: none;\r\n          }\r\n          .center {\r\n            text-align: center;\r\n          }\r\n        `}\r\n      </style>\r\n      <div>\r\n        <form className=\"input-container\" onSubmit={submit}>\r\n          <input\r\n            width=\"485px\"\r\n            onChange={(e) => setTask(e.target.value)}\r\n            value={task}\r\n            className=\"form-control\"\r\n            placeholder=\"Enter a task for today\"\r\n          />\r\n          <button className=\"btn btn-primary\" type=\"submit\">\r\n            {editToggle ? \"Update\" : \"Add Task\"}\r\n          </button>\r\n        </form>\r\n      </div>\r\n      <table className=\"table table-hover\">\r\n        <thead>\r\n          <tr>\r\n            <th scope=\"col\">Type</th>\r\n            <th scope=\"col\">Description</th>\r\n            <th scope=\"col\" className=\"center\">\r\n              Actions\r\n            </th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {state.tasks.length > 0 &&\r\n            state.tasks.map((task) => (\r\n              <tr className={rowClass(task)}>\r\n                <th scope=\"row\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={task.task_status}\r\n                    onChange={() =>\r\n                      dispatch({ type: \"DONE_TODO\", payload: task })\r\n                    }\r\n                  />\r\n                </th>\r\n                <td className={textStyle(task)}>{task.task_name}</td>\r\n                <td className=\"center\">\r\n                  {editToggle && selected.id === task.id ? (\r\n                    <a onClick={() => editOff()}>Cancel</a>\r\n                  ) : (\r\n                    <a onClick={() => editTask(task)}>Edit</a>\r\n                  )}\r\n                  | <a onClick={() => deleteTask(task)}>Delete</a>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n        </tbody>\r\n      </table>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nIndex.getInitialProps = async () => {\r\n  const response = await get(\"/tasks\");\r\n  const tasks = await response.data;\r\n  return { tasks };\r\n};\r\n\r\nexport default Index;\r\n"]},"metadata":{},"sourceType":"module"}